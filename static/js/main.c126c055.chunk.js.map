{"version":3,"sources":["App.module.css","components/AddItemForm/AddItemForm.module.css","components/Task/Task.module.css","components/Button/Button.module.css","enums/index.ts","state/reducers/app-reducer.ts","components/Snackbar/Snackbar.tsx","api/apiConfig.ts","api/todolist-api.ts","utils/error-utils.ts","constants/index.ts","state/reducers/auth-reducer.ts","components/Login/Login.tsx","utils/validates.ts","state/reducers/todolistReducer/todolist-reducer.ts","api/tasks-api.ts","state/reducers/taskReducer/tasks-reducer.ts","state/reducers/taskReducer/thunk.ts","state/reducers/todolistReducer/thunk.ts","components/AddItemForm/AddItemForm.tsx","components/EditableSpan/EditableSpan.tsx","components/Task/Task.tsx","components/Button/Button.tsx","components/Todolist/Todolist.tsx","components/TodolistList/TodolistList.tsx","App.tsx","state/store.ts","index.tsx"],"names":["module","exports","TaskPriorities","TaskStatuses","URL_String","Path","FilterValue","RequestStatusType","ResultCodes","initialState","status","Idle","error","isInitialize","slice","createSlice","name","reducers","toggleIsInitialize","state","action","payload","value","setRequestStatus","setErrorText","actions","appReducer","reducer","Alert","React","forwardRef","props","ref","elevation","variant","useStyles","makeStyles","theme","root","width","marginTop","spacing","ErrorSnackbar","useSelector","app","classes","dispatch","useDispatch","handleClose","event","reason","className","Snackbar","open","autoHideDuration","onClose","severity","instance","axios","create","baseURL","process","withCredentials","headers","Todolists","Login","Me","todolistAPI","get","res","data","title","post","todolistId","delete","put","authAPI","loginParams","email","password","rememberMe","captcha","Failed","catchErrorHandler","err","message","errorHandler","messages","Loading","Succeeded","success","isLoggedIn","id","login","setIsLoggedInAC","setAuthUserData","authReducer","auth","START","formik","useFormik","initialValues","validate","values","errors","test","length","validates","onSubmit","resetForm","a","dataResponse","resultCode","touched","textFields","touch","type","to","container","justifyContent","item","handleSubmit","FormControl","FormLabel","href","rel","target","FormGroup","map","TextField","label","margin","getFieldProps","style","color","FormControlLabel","checked","control","Checkbox","Button","All","removeTodolistAC","index","findIndex","splice","addTodolistAC","unshift","todolist","filter","entityStatus","changeTodolistTitleAC","changeTodolistFilterAC","newFilter","setTodolistsAC","todolists","tdl","setTodolistProgressStatus","todolistsReducer","Tasks","tasksAPI","taskId","updateTask","description","priority","startDate","deadline","removeTaskAC","tl","addTaskAC","task","updateTaskAC","todoListId","t","setTasksAC","tasks","extraReducers","builder","addCase","forEach","f","tasksReducer","updateTaskTC","updateElemInTask","getState","currTask","find","updateTaskForAPI","AddItemForm","memo","addItem","useState","setTitle","setError","addTaskHandler","trim","s","wrapper","onChange","e","currentTarget","onKeyPress","key","size","IconButton","onClick","AddBoxOutlined","EditableSpan","updateTitle","edit","setEdit","currTitle","setCurrTitle","onDoubleClick","onBlur","autoFocus","Task","taskTitle","Completed","New","handleUpdateTaskTitleSpan","useCallback","newTitle","completedTask","deleteTaskTC","Delete","fontSize","newIsDoneValue","UniversalButton","callback","btn","Todolist","todolistTitle","CompletedFilter","Active","onChangeAllFilterButton","onChangeCompletedFilterButton","onChangeActiveFilterButton","handleAddTaskForm","addTaskTC","handleUpdateTodoTitleSpan","updateTodoTitleTC","buttonsArr","filteredTasks","removeTodoTC","disabled","TodolistList","LOGIN_PATH","useEffect","todo","items","addTodolist","padding","tasksForTodolist","Paper","AppWithRedux","NOT_FOUND","ANY","logoutHandler","AppBar","position","background","appbar","Toolbar","header","Typography","float","LinearProgress","Container","fixed","path","element","top","textAlign","CircularProgress","rootReducer","combineReducers","store","configureStore","middleware","getDefaultMiddleware","prepend","thunk","ReactDOM","render","App","document","getElementById"],"mappings":"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","file":"static/js/main.c126c055.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"appbar\":\"App_appbar__1QaGQ\",\"header\":\"App_header__5RBuX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"AddItemForm_error__3At2_\",\"wrapper\":\"AddItemForm_wrapper__1Z66Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"completedTask\":\"Task_completedTask__1qx3H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__CT9Ov\"};","export enum TaskPriorities {\r\n  Low = 0,\r\n  Middle = 1,\r\n  Hi = 2,\r\n  Urgently = 3,\r\n  Later = 4,\r\n}\r\n\r\nexport enum TaskStatuses {\r\n  New = 0,\r\n  InProgress = 1,\r\n  Completed = 2,\r\n  Draft = 3,\r\n}\r\n\r\nexport enum URL_String {\r\n  Todolists = \"todo-lists\",\r\n  Tasks = \"tasks\",\r\n  Login = \"auth/login\",\r\n  Me = \"auth/me\",\r\n}\r\n\r\nexport enum Path {\r\n  START = \"/\",\r\n  LOGIN_PATH = \"/login\",\r\n  NOT_FOUND = \"/404\",\r\n  ANY = \"*\",\r\n}\r\n\r\nexport enum FilterValue {\r\n  All = \"all\",\r\n  CompletedFilter = \"completed\",\r\n  Active = \"active\",\r\n}\r\n\r\nexport enum RequestStatusType {\r\n  Idle = \"idle\",\r\n  Loading = \"loading\",\r\n  Succeeded = \"succeeded\",\r\n  Failed = \"failed\",\r\n}\r\n\r\nexport enum ResultCodes {\r\n  success = 0,\r\n  error = 1,\r\n  captcha = 10,\r\n}\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { Nullable } from \"type/Nullable\";\r\nimport { RequestStatusType } from \"enums/index\";\r\n\r\nconst { Idle } = RequestStatusType;\r\n\r\nconst initialState = {\r\n  status: Idle,\r\n  error: null as Nullable<string>,\r\n  isInitialize: false,\r\n};\r\nexport type appInitialStateType = {\r\n  status: RequestStatusType;\r\n  error: Nullable<string>;\r\n  isInitialize: boolean;\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: \"app\",\r\n  initialState: initialState,\r\n  reducers: {\r\n    toggleIsInitialize(state, action: PayloadAction<{ value: boolean }>) {\r\n      state.isInitialize = action.payload.value;\r\n    },\r\n\r\n    setRequestStatus(\r\n      state,\r\n      action: PayloadAction<{ status: RequestStatusType }>\r\n    ) {\r\n      state.status = action.payload.status;\r\n    },\r\n\r\n    setErrorText(state, action: PayloadAction<{ error: Nullable<string> }>) {\r\n      state.error = action.payload.error;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setRequestStatus, toggleIsInitialize, setErrorText } =\r\n  slice.actions;\r\nexport const appReducer = slice.reducer;\r\n","import React from \"react\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MuiAlert, { AlertProps } from \"@material-ui/lab/Alert\";\r\nimport { makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootReducerType } from \"../../state/store\";\r\nimport { setErrorText } from \"../../state/reducers/app-reducer\";\r\nimport { Nullable } from \"../../type/Nullable\";\r\n\r\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\r\n  props,\r\n  ref\r\n) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& > * + *\": {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function ErrorSnackbar() {\r\n    \r\n  const error = useSelector<RootReducerType, Nullable<string>>(\r\n    (state) => state.app.error\r\n  );\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClose = (event?: React.SyntheticEvent, reason?: string) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    dispatch(setErrorText({ error: null }));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Snackbar open={!!error} autoHideDuration={6000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"error\">\r\n          {error} &#128557;\r\n        </Alert>\r\n      </Snackbar>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n  baseURL: process.env.REACT_APP_BASE_URL,\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": process.env.REACT_APP_API_KEY || \"\",\r\n  },\r\n});\r\n","import { instance } from \"./apiConfig\";\r\nimport {\r\n  AuthUserDataType,\r\n  loginParamsType,\r\n  ResponseT,\r\n  TodolistResponseType,\r\n} from \"./types\";\r\nimport { URL_String } from \"enums/index\";\r\nconst { Todolists, Login, Me } = URL_String;\r\n\r\nexport const todolistAPI = {\r\n  async GetTodolists() {\r\n    const res = await instance.get<Array<TodolistResponseType>>(Todolists);\r\n    return res.data;\r\n  },\r\n\r\n  async CreateTodolist(\r\n    title: string\r\n  ): Promise<ResponseT<{ item: TodolistResponseType }>> {\r\n    const res = await instance.post<ResponseT<{ item: TodolistResponseType }>>(\r\n      Todolists,\r\n      { title }\r\n    );\r\n    return res.data;\r\n  },\r\n\r\n  async DeleteTodolist(todolistId: string) {\r\n    const res = await instance.delete<ResponseT>(`${Todolists}/${todolistId}`);\r\n    return res.data;\r\n  },\r\n\r\n  async UpdateTodolistTitle(todolistId: string, title: string) {\r\n    const res = await instance.put<ResponseT>(`${Todolists}/${todolistId}`, {\r\n      title,\r\n    });\r\n    return res.data;\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  async login(loginParams: loginParamsType) {\r\n    let { email, password, rememberMe, captcha } = loginParams;\r\n    const res = await instance.post<ResponseT<{ userId: number }>>(Login, {\r\n      email,\r\n      password,\r\n      rememberMe,\r\n      captcha,\r\n    });\r\n    return res.data;\r\n  },\r\n\r\n  async logout() {\r\n    const res = await instance.delete<ResponseT>(Login);\r\n    return res.data;\r\n  },\r\n\r\n  async getAuthData() {\r\n    const res = await instance.get<ResponseT<AuthUserDataType>>(Me);\r\n    return res.data;\r\n  },\r\n};\r\n","import { setErrorText, setRequestStatus } from \"state/reducers/app-reducer\";\r\nimport { Dispatch } from \"redux\";\r\nimport { ResponseT } from \"api/types\";\r\nimport { RequestStatusType } from \"enums\";\r\nimport { setErrorTextType, setRequestStatusType } from \"state/reducers/types\";\r\nimport { FIRST_INDEX, SOME_ERROR } from \"constants/index\";\r\n\r\nconst { Failed } = RequestStatusType;\r\n\r\nexport const catchErrorHandler = (\r\n  dispatch: ErrorUtilsDispatchType,\r\n  err: any\r\n) => {\r\n  dispatch(setErrorText({ error: err.message }));\r\n  dispatch(setRequestStatus({ status: Failed }));\r\n};\r\n\r\nexport const errorHandler = <T>(\r\n  dispatch: ErrorUtilsDispatchType,\r\n  data: ResponseT<T>\r\n) => {\r\n  const { messages } = data;\r\n  if (messages) {\r\n    dispatch(setErrorText({ error: messages[FIRST_INDEX] }));\r\n  } else {\r\n    dispatch(setErrorText({ error: SOME_ERROR }));\r\n  }\r\n  dispatch(setRequestStatus({ status: Failed }));\r\n};\r\n\r\ntype ErrorUtilsDispatchType = Dispatch<setErrorTextType | setRequestStatusType>;\r\n","export const EMPTY_STRING = \"\";\r\nexport const PAGE_NOT_FOUND_TEXT = \"404: Page not found\";\r\nexport const FIRST_INDEX = 0;\r\nexport const SOME_ERROR = \"Some error occurred\";\r\nexport const LINK_TO_REGISTER = \"https://social-network.samuraijs.com/\";\r\n","import { Dispatch } from \"redux\";\r\nimport { setRequestStatus, toggleIsInitialize } from \"./app-reducer\";\r\nimport { authAPI } from \"api/todolist-api\";\r\nimport { catchErrorHandler, errorHandler } from \"utils/error-utils\";\r\nimport { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { Nullable } from \"type/Nullable\";\r\nimport { RequestStatusType, ResultCodes } from \"enums\";\r\nimport { AuthUserDataType, loginParamsType } from \"api/types\";\r\n\r\nconst { Loading, Succeeded } = RequestStatusType;\r\nconst { success } = ResultCodes;\r\n\r\nconst initialState = {\r\n  isLoggedIn: false,\r\n  data: {\r\n    id: null as Nullable<number>,\r\n    login: null as Nullable<string>,\r\n    email: null as Nullable<string>,\r\n  },\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: \"auth\",\r\n  initialState: initialState,\r\n  reducers: {\r\n    setIsLoggedInAC(state, action: PayloadAction<{ value: boolean }>) {\r\n      state.isLoggedIn = action.payload.value;\r\n    },\r\n    setAuthUserData(state, action: PayloadAction<{ data: AuthUserDataType }>) {\r\n      state.data = action.payload.data;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setIsLoggedInAC, setAuthUserData } = slice.actions;\r\nexport const authReducer = slice.reducer;\r\n\r\nexport const loginTC =\r\n  (data: loginParamsType) => async (dispatch: Dispatch) => {\r\n    try {\r\n      dispatch(setRequestStatus({ status: Loading }));\r\n      let dataResponse = await authAPI.login(data);\r\n      if (dataResponse.resultCode === success) {\r\n        dispatch(setIsLoggedInAC({ value: true }));\r\n        dispatch(setRequestStatus({ status: Succeeded }));\r\n      } else {\r\n        errorHandler(dispatch, dataResponse);\r\n      }\r\n    } catch (err) {\r\n      catchErrorHandler(dispatch, err);\r\n    }\r\n  };\r\n\r\nexport const logoutTC = () => async (dispatch: Dispatch) => {\r\n  try {\r\n    dispatch(setRequestStatus({ status: Loading }));\r\n    let data = await authAPI.logout();\r\n    if (data.resultCode === success) {\r\n      dispatch(setIsLoggedInAC({ value: false }));\r\n      dispatch(setRequestStatus({ status: Succeeded }));\r\n    } else {\r\n      errorHandler(dispatch, data);\r\n    }\r\n  } catch (err) {\r\n    catchErrorHandler(dispatch, err);\r\n  }\r\n};\r\n\r\nexport const authUserTC = () => async (dispatch: Dispatch) => {\r\n  try {\r\n    dispatch(setRequestStatus({ status: Loading }));\r\n    let data = await authAPI.getAuthData();\r\n    if (data.resultCode === success) {\r\n      dispatch(setIsLoggedInAC({ value: true }));\r\n    }\r\n  } catch (err) {\r\n    catchErrorHandler(dispatch, err);\r\n  } finally {\r\n    dispatch(toggleIsInitialize({ value: true }));\r\n    dispatch(setRequestStatus({ status: Succeeded }));\r\n  }\r\n};\r\n","import { Fragment } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid/Grid\";\r\n\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormGroup,\r\n  FormLabel,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { useFormik } from \"formik\";\r\nimport { loginTC } from \"state/reducers/auth-reducer\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootReducerType } from \"state/store\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { Path } from \"enums\";\r\nimport { LINK_TO_REGISTER } from \"constants/index\";\r\nimport { validates, FormikErrorType } from \"utils/validates\";\r\n\r\nexport const Login = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const isLoggedIn = useSelector<RootReducerType, boolean>(\r\n    (state) => state.auth.isLoggedIn\r\n  );\r\n\r\n  const { START } = Path;\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: process.env.REACT_APP_LOGIN as string,\r\n      password: process.env.REACT_APP_PASSWORD as string,\r\n      rememberMe: false,\r\n    },\r\n    validate: (values) => {\r\n      const errors: FormikErrorType = {};\r\n      validates(values, errors);\r\n      return errors;\r\n    },\r\n    onSubmit: (values) => {\r\n      formik.resetForm();\r\n      dispatch(loginTC(values));\r\n    },\r\n  });\r\n\r\n  const { touched } = formik;\r\n  const { password, email } = formik.errors;\r\n  const textFields = [\r\n    { name: \"email\", err: email, touch: touched.email, type: \"text\" },\r\n    {\r\n      name: \"password\",\r\n      err: password,\r\n      touch: touched.password,\r\n      type: \"password\",\r\n    },\r\n  ];\r\n\r\n  if (isLoggedIn) {\r\n    return <Navigate to={START} />;\r\n  }\r\n  return (\r\n    <Grid container justifyContent=\"center\">\r\n      <Grid item>\r\n        <form onSubmit={formik.handleSubmit}>\r\n          <FormControl>\r\n            <FormLabel>\r\n              <p>\r\n                To log in get registered{\" \"}\r\n                <a href={LINK_TO_REGISTER} rel=\"noreferrer\" target={\"_blank\"}>\r\n                  here\r\n                </a>\r\n              </p>\r\n              <p>or use common test account credentials:</p>\r\n              <p>Email: free@samuraijs.com</p>\r\n              <p>Password: free</p>\r\n            </FormLabel>\r\n\r\n            <FormGroup>\r\n              {textFields.map(({ name, touch, err, type }) => (\r\n                <Fragment key={name}>\r\n                  <TextField\r\n                    label={name}\r\n                    margin=\"normal\"\r\n                    type={type}\r\n                    {...formik.getFieldProps({ name })}\r\n                  />\r\n                  {touch && err && <div style={{ color: \"red\" }}>{err}</div>}\r\n                </Fragment>\r\n              ))}\r\n\r\n              <FormControlLabel\r\n                label={\"Remember me\"}\r\n                checked={formik.values.rememberMe}\r\n                control={<Checkbox {...formik.getFieldProps(\"rememberMe\")} />}\r\n              />\r\n              <Button type={\"submit\"} variant={\"contained\"} color={\"primary\"}>\r\n                Login\r\n              </Button>\r\n            </FormGroup>\r\n          </FormControl>\r\n        </form>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n","export const validates = (\r\n  values: FormikValuesType,\r\n  errors: FormikErrorType\r\n) => {\r\n  const { email, password } = values;\r\n  if (!email) {\r\n    errors.email = \"Required\";\r\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(email)) {\r\n    errors.email = \"Invalid email address\";\r\n  }\r\n  if (!password) {\r\n    errors.password = \"Required\";\r\n  }\r\n  if (password?.length < 3) {\r\n    errors.password = \"Min password length is 3 symbols\";\r\n  }\r\n};\r\n\r\nexport type FormikErrorType = {\r\n  email?: string;\r\n  password?: string;\r\n  rememberMe?: boolean;\r\n};\r\n\r\ntype FormikValuesType = {\r\n  email: string;\r\n  password: string;\r\n  rememberMe: boolean;\r\n};\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { TodolistResponseType } from \"api/types\";\r\nimport { FilterValue, RequestStatusType } from \"enums\";\r\nimport { todolistStateType } from \"./types\";\r\n\r\nconst { Idle } = RequestStatusType;\r\nconst { All } = FilterValue;\r\n\r\nlet initialState: todolistStateType = [];\r\n\r\nconst slice = createSlice({\r\n  name: \"todolists\",\r\n  initialState: initialState,\r\n  reducers: {\r\n    removeTodolistAC(state, action: PayloadAction<{ id: string }>) {\r\n      let index = state.findIndex(({ id }) => id === action.payload.id);\r\n      if (index !== -1) {\r\n        state.splice(index, 1);\r\n      }\r\n    },\r\n\r\n    addTodolistAC(\r\n      state,\r\n      action: PayloadAction<{ todolist: TodolistResponseType }>\r\n    ) {\r\n      state.unshift({\r\n        ...action.payload.todolist,\r\n        filter: All,\r\n        entityStatus: Idle,\r\n      });\r\n    },\r\n\r\n    changeTodolistTitleAC(\r\n      state,\r\n      action: PayloadAction<{ id: string; title: string }>\r\n    ) {\r\n      let index = state.findIndex(({ id }) => id === action.payload.id);\r\n      state[index].title = action.payload.title;\r\n    },\r\n\r\n    changeTodolistFilterAC(\r\n      state,\r\n      action: PayloadAction<{ id: string; newFilter: FilterValue }>\r\n    ) {\r\n      let index = state.findIndex(({ id }) => id === action.payload.id);\r\n      state[index] = { ...state[index], filter: action.payload.newFilter };\r\n    },\r\n\r\n    setTodolistsAC(\r\n      state,\r\n      action: PayloadAction<{ todolists: Array<TodolistResponseType> }>\r\n    ) {\r\n      return action.payload.todolists.map((tdl) => ({\r\n        ...tdl,\r\n        filter: All,\r\n        entityStatus: Idle,\r\n      }));\r\n    },\r\n\r\n    setTodolistProgressStatus(\r\n      state,\r\n      action: PayloadAction<{\r\n        entityStatus: RequestStatusType;\r\n        todolistId: string;\r\n      }>\r\n    ) {\r\n      let index = state.findIndex(({ id }) => id === action.payload.todolistId);\r\n      state[index] = {\r\n        ...state[index],\r\n        entityStatus: action.payload.entityStatus,\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  removeTodolistAC,\r\n  addTodolistAC,\r\n  changeTodolistTitleAC,\r\n  changeTodolistFilterAC,\r\n  setTodolistsAC,\r\n  setTodolistProgressStatus,\r\n} = slice.actions;\r\n\r\nexport const todolistsReducer = slice.reducer;\r\n","import { instance } from \"./apiConfig\";\r\nimport {\r\n  GetTasksResponseType,\r\n  ResponseT,\r\n  TaskResponseType,\r\n  updateTaskType,\r\n} from \"./types\";\r\nimport { URL_String } from \"enums/index\";\r\nconst { Todolists, Tasks } = URL_String;\r\n\r\nexport const tasksAPI = {\r\n  async GetTasks(todolistId: string) {\r\n    const res = await instance.get<GetTasksResponseType>(\r\n      `${Todolists}/${todolistId}/${Tasks}`\r\n    );\r\n    return res.data;\r\n  },\r\n  async CreateTask(todolistId: string, title: string) {\r\n    const res = await instance.post<ResponseT<{ item: TaskResponseType }>>(\r\n      `${Todolists}/${todolistId}/${Tasks}`,\r\n      { title }\r\n    );\r\n    return res.data;\r\n  },\r\n  async DeleteTask(todolistId: string, taskId: string) {\r\n    const res = await instance.delete<ResponseT>(\r\n      `${Todolists}/${todolistId}/${Tasks}/${taskId}`\r\n    );\r\n    return res.data;\r\n  },\r\n\r\n  async UpdateTask(\r\n    todolistId: string,\r\n    taskId: string,\r\n    updateTask: updateTaskType\r\n  ) {\r\n    let { title, description, status, priority, startDate, deadline } =\r\n      updateTask;\r\n    const res = await instance.put<ResponseT<{ item: TaskResponseType }>>(\r\n      `${Todolists}/${todolistId}/${Tasks}/${taskId}`,\r\n      {\r\n        title,\r\n        description,\r\n        status,\r\n        priority,\r\n        startDate,\r\n        deadline,\r\n      }\r\n    );\r\n    return res.data;\r\n  },\r\n};\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport {\r\n  addTodolistAC,\r\n  removeTodolistAC,\r\n  setTodolistsAC,\r\n} from \"../todolistReducer/todolist-reducer\";\r\nimport { TaskResponseType } from \"api/types\";\r\nimport { tasksType } from \"./types\";\r\n\r\nlet initialState: tasksType = {};\r\n\r\nconst slice = createSlice({\r\n  name: \"tasks\",\r\n  initialState: initialState,\r\n  reducers: {\r\n    removeTaskAC(state, action: PayloadAction<{ taskId: string; id: string }>) {\r\n      let index = state[action.payload.id].findIndex(\r\n        (tl) => tl.id === action.payload.taskId\r\n      );\r\n      if (index !== -1) {\r\n        state[action.payload.id].splice(index, 1); //с какого индекса, сколько эл-ов\r\n      }\r\n    },\r\n\r\n    addTaskAC(\r\n      state,\r\n      action: PayloadAction<{ task: TaskResponseType; id: string }>\r\n    ) {\r\n      state[action.payload.id].unshift(action.payload.task);\r\n    },\r\n\r\n    updateTaskAC(\r\n      state,\r\n      action: PayloadAction<{ task: TaskResponseType; taskId: string }>\r\n    ) {\r\n      let index = state[action.payload.task.todoListId].findIndex(\r\n        (t) => t.id === action.payload.taskId\r\n      );\r\n      state[action.payload.task.todoListId][index] = {\r\n        ...state[action.payload.task.todoListId][index],\r\n        ...action.payload.task,\r\n      };\r\n    },\r\n\r\n    setTasksAC(\r\n      state,\r\n      action: PayloadAction<{\r\n        tasks: Array<TaskResponseType>;\r\n        todolistId: string;\r\n      }>\r\n    ) {\r\n      state[action.payload.todolistId] = action.payload.tasks;\r\n    },\r\n  },\r\n\r\n  extraReducers: (builder) => {\r\n    builder.addCase(addTodolistAC, (state, action) => {\r\n      state[action.payload.todolist.id] = [];\r\n    });\r\n\r\n    builder.addCase(setTodolistsAC, (state, action) => {\r\n      action.payload.todolists.forEach((f) => {\r\n        state[f.id] = [];\r\n      });\r\n    });\r\n\r\n    builder.addCase(removeTodolistAC, (state, action) => {\r\n      delete state[action.payload.id];\r\n    });\r\n  },\r\n});\r\n\r\nexport const { removeTaskAC, addTaskAC, updateTaskAC, setTasksAC } =\r\n  slice.actions;\r\nexport const tasksReducer = slice.reducer;\r\n","import { RequestStatusType, ResultCodes } from \"enums\";\r\nimport { tasksAPI } from \"api/tasks-api\";\r\nimport { Dispatch } from \"redux\";\r\nimport { RootReducerType } from \"state/store\";\r\nimport { setRequestStatus } from \"../app-reducer\";\r\nimport { catchErrorHandler, errorHandler } from \"utils/error-utils\";\r\nimport {\r\n  addTaskAC,\r\n  removeTaskAC,\r\n  setTasksAC,\r\n  updateTaskAC,\r\n} from \"./tasks-reducer\";\r\nimport { updateElemInTaskType } from \"./types\";\r\nimport { updateTaskType } from \"api/types\";\r\n\r\nconst { Succeeded, Loading } = RequestStatusType;\r\nconst { success } = ResultCodes;\r\n\r\nexport const getTasksTC =\r\n  (todolistId: string) => async (dispatch: Dispatch) => {\r\n    try {\r\n      dispatch(setRequestStatus({ status: Loading }));\r\n      let data = await tasksAPI.GetTasks(todolistId);\r\n      dispatch(setTasksAC({ tasks: data.items, todolistId }));\r\n      dispatch(setRequestStatus({ status: Succeeded }));\r\n    } catch (err) {\r\n      catchErrorHandler(dispatch, err);\r\n    }\r\n  };\r\n\r\nexport const deleteTaskTC =\r\n  (todolistId: string, taskId: string) => async (dispatch: Dispatch) => {\r\n    try {\r\n      dispatch(setRequestStatus({ status: Loading }));\r\n      let data = await tasksAPI.DeleteTask(todolistId, taskId);\r\n      if (data.resultCode === success) {\r\n        dispatch(removeTaskAC({ taskId, id: todolistId }));\r\n        dispatch(setRequestStatus({ status: Succeeded }));\r\n      } else {\r\n        errorHandler(dispatch, data);\r\n      }\r\n    } catch (err) {\r\n      catchErrorHandler(dispatch, err);\r\n    }\r\n  };\r\n\r\nexport const addTaskTC =\r\n  (todolistId: string, title: string) => async (dispatch: Dispatch) => {\r\n    try {\r\n      dispatch(setRequestStatus({ status: Loading }));\r\n      let data = await tasksAPI.CreateTask(todolistId, title);\r\n      if (data.resultCode === success) {\r\n        let task = data.data.item;\r\n        dispatch(addTaskAC({ task, id: todolistId }));\r\n        dispatch(setRequestStatus({ status: Succeeded }));\r\n      } else {\r\n        errorHandler(dispatch, data);\r\n      }\r\n    } catch (err) {\r\n      catchErrorHandler(dispatch, err);\r\n    }\r\n  };\r\n\r\nexport const updateTaskTC =\r\n  (\r\n    todolistId: string,\r\n    taskId: string,\r\n    updateElemInTask: updateElemInTaskType\r\n  ) =>\r\n  async (dispatch: Dispatch, getState: () => RootReducerType) => {\r\n    let tasks = getState().tasks;\r\n    let currTask = tasks[todolistId].find(({ id }) => id === taskId);\r\n    try {\r\n      if (currTask) {\r\n        let updateTask: updateTaskType = currTask;\r\n        let updateTaskForAPI = { ...updateTask, ...updateElemInTask };\r\n        dispatch(setRequestStatus({ status: Loading }));\r\n        let data = await tasksAPI.UpdateTask(\r\n          todolistId,\r\n          taskId,\r\n          updateTaskForAPI\r\n        );\r\n        if (data.resultCode === success) {\r\n          let task = data.data.item;\r\n          dispatch(updateTaskAC({ task, taskId }));\r\n          dispatch(setRequestStatus({ status: Succeeded }));\r\n        } else {\r\n          errorHandler(dispatch, data);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      catchErrorHandler(dispatch, err);\r\n    }\r\n  };\r\n","import { catchErrorHandler, errorHandler } from \"utils/error-utils\";\r\nimport { RequestStatusType, ResultCodes } from \"enums\";\r\nimport { Dispatch } from \"redux\";\r\nimport { todolistAPI } from \"api/todolist-api\";\r\nimport { setRequestStatus } from \"../app-reducer\";\r\nimport {\r\n  addTodolistAC,\r\n  changeTodolistTitleAC,\r\n  removeTodolistAC,\r\n  setTodolistProgressStatus,\r\n  setTodolistsAC,\r\n} from \"./todolist-reducer\";\r\nimport { getTasksTC } from \"../taskReducer/thunk\";\r\nimport { ThunkType } from \"state/store\";\r\n\r\nconst { Loading, Succeeded, Failed } = RequestStatusType;\r\nconst { success } = ResultCodes;\r\n\r\nexport const setTodosTC = (): ThunkType => async (dispatch) => {\r\n  try {\r\n    dispatch(setRequestStatus({ status: Loading }));\r\n    let data = await todolistAPI.GetTodolists();\r\n    dispatch(setTodolistsAC({ todolists: data }));\r\n    dispatch(setRequestStatus({ status: Succeeded }));\r\n    data.forEach((todo) => dispatch(getTasksTC(todo.id)));\r\n  } catch (err) {\r\n    catchErrorHandler(dispatch, err);\r\n  }\r\n};\r\n\r\nexport const removeTodoTC =\r\n  (todolistId: string) => async (dispatch: Dispatch) => {\r\n    try {\r\n      dispatch(setRequestStatus({ status: Loading }));\r\n      dispatch(\r\n        setTodolistProgressStatus({ entityStatus: Loading, todolistId })\r\n      );\r\n      let data = await todolistAPI.DeleteTodolist(todolistId);\r\n      if (data.resultCode === success) {\r\n        dispatch(removeTodolistAC({ id: todolistId }));\r\n        dispatch(\r\n          setTodolistProgressStatus({ entityStatus: Succeeded, todolistId })\r\n        );\r\n        dispatch(setRequestStatus({ status: Succeeded }));\r\n      } else {\r\n        errorHandler(dispatch, data);\r\n        dispatch(\r\n          setTodolistProgressStatus({ entityStatus: Failed, todolistId })\r\n        );\r\n      }\r\n    } catch (err) {\r\n      catchErrorHandler(dispatch, err);\r\n    }\r\n  };\r\n\r\nexport const addTodoTC = (title: string) => async (dispatch: Dispatch) => {\r\n  try {\r\n    dispatch(setRequestStatus({ status: Loading }));\r\n    let data = await todolistAPI.CreateTodolist(title);\r\n    if (data.resultCode === success) {\r\n      dispatch(addTodolistAC({ todolist: data.data.item }));\r\n      dispatch(setRequestStatus({ status: Succeeded }));\r\n    } else {\r\n      errorHandler(dispatch, data);\r\n    }\r\n  } catch (err) {\r\n    catchErrorHandler(dispatch, err);\r\n  }\r\n};\r\n\r\nexport const updateTodoTitleTC =\r\n  (todolistId: string, title: string) => async (dispatch: Dispatch) => {\r\n    try {\r\n      dispatch(setRequestStatus({ status: Loading }));\r\n      const data = await todolistAPI.UpdateTodolistTitle(todolistId, title);\r\n\r\n      if (data.resultCode === success) {\r\n        dispatch(changeTodolistTitleAC({ id: todolistId, title }));\r\n        dispatch(setRequestStatus({ status: Succeeded }));\r\n      } else {\r\n        errorHandler(dispatch, data);\r\n      }\r\n    } catch (err) {\r\n      catchErrorHandler(dispatch, err);\r\n    }\r\n  };\r\n","import s from \"./AddItemForm.module.css\";\r\nimport { ChangeEvent, KeyboardEvent, useState, FC, memo } from \"react\";\r\nimport { IconButton, TextField } from \"@material-ui/core\";\r\nimport { AddBoxOutlined } from \"@material-ui/icons\";\r\nimport { EMPTY_STRING } from \"constants/index\";\r\nimport { Nullable } from \"type/Nullable\";\r\n\r\ntype addItemFormPropsType = {\r\n  addItem: (title: string) => void;\r\n};\r\n\r\nexport const AddItemForm: FC<addItemFormPropsType> = memo(({ addItem }) => {\r\n  let [title, setTitle] = useState<string>(EMPTY_STRING);\r\n  let [error, setError] = useState<Nullable<string>>(null);\r\n\r\n  const onChangeHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setTitle(e.currentTarget.value);\r\n    if (e.currentTarget.value.length > 0) {\r\n      setError(null);\r\n    }\r\n  };\r\n\r\n  const addTaskHandler = () => {\r\n    if (title.trim() !== EMPTY_STRING) {\r\n      addItem(title);\r\n      setTitle(EMPTY_STRING);\r\n    } else {\r\n      setError(\"name required\");\r\n    }\r\n  };\r\n\r\n  const onKeyPressAddTaskHandler = (e: KeyboardEvent<HTMLInputElement>) => {\r\n    if (e.key === \"Enter\") {\r\n      addTaskHandler();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <TextField\r\n        error={!!error}\r\n        id={error ? \"outlined-error\" : \"standard-basic\"}\r\n        label={error ? \"Error\" : \"write title\"}\r\n        onChange={onChangeHandler}\r\n        onKeyPress={onKeyPressAddTaskHandler}\r\n        value={title}\r\n        size=\"small\"\r\n      />\r\n\r\n      <IconButton size=\"small\" onClick={addTaskHandler}>\r\n        <AddBoxOutlined style={{ color: \"LightGreen\" }} />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n});\r\n","import TextField from \"@material-ui/core/TextField/TextField\";\r\nimport { ChangeEvent, useState, FC, memo } from \"react\";\r\n\r\ntype editableSpanPropsType = {\r\n  title: string;\r\n  updateTitle: (newTitle: string) => void;\r\n};\r\n\r\nexport const EditableSpan: FC<editableSpanPropsType> = memo(\r\n  ({ title, updateTitle }) => {\r\n\r\n    let [edit, setEdit] = useState(true);\r\n    let [currTitle, setCurrTitle] = useState(title);\r\n\r\n    const activateInputMode = () => {\r\n      setEdit(false);\r\n    };\r\n\r\n    const activateSpanMode = () => {\r\n      setEdit(true);\r\n      updateTitle(currTitle);\r\n    };\r\n\r\n    const updateTitleHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n      setCurrTitle(e.currentTarget.value);\r\n    };\r\n    \r\n    return edit ? (\r\n      <span onDoubleClick={activateInputMode}>{title}</span>\r\n    ) : (\r\n      <TextField\r\n        id=\"standard-basic\"\r\n        variant=\"standard\"\r\n        value={currTitle}\r\n        onBlur={activateSpanMode}\r\n        autoFocus\r\n        onChange={updateTitleHandler}\r\n      />\r\n    );\r\n  }\r\n);\r\n","import { ChangeEvent, useCallback, FC, memo } from \"react\";\r\nimport style from \"./Task.module.css\";\r\nimport { Checkbox, IconButton } from \"@material-ui/core\";\r\nimport { Delete } from \"@material-ui/icons\";\r\n\r\nimport { TaskStatuses } from \"enums/index\";\r\n\r\nimport { deleteTaskTC, updateTaskTC } from \"state/reducers/taskReducer/thunk\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { EditableSpan } from \"components/EditableSpan/EditableSpan\";\r\nimport { EMPTY_STRING } from \"constants/index\";\r\n\r\ntype TaskPropsType = {\r\n  taskId: string;\r\n  todolistId: string;\r\n  status: TaskStatuses;\r\n  taskTitle: string;\r\n};\r\n\r\nexport const Task: FC<TaskPropsType> = memo(\r\n  ({ taskId, todolistId, status, taskTitle }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { Completed, New } = TaskStatuses;\r\n\r\n    const onDeleteTaskButton = () => {\r\n      dispatch(deleteTaskTC(todolistId, taskId));\r\n    };\r\n\r\n    const handleUpdateTaskTitleSpan = useCallback(\r\n      (newTitle: string) => {\r\n        dispatch(updateTaskTC(todolistId, taskId, { title: newTitle }));\r\n      },\r\n      [dispatch, todolistId, taskId]\r\n    );\r\n\r\n    const onChangeTaskStatusBox = (e: ChangeEvent<HTMLInputElement>) => {\r\n      let newIsDoneValue = e.currentTarget.checked;\r\n      dispatch(\r\n        updateTaskTC(todolistId, taskId, {\r\n          status: newIsDoneValue ? Completed : New,\r\n        })\r\n      );\r\n    };\r\n\r\n    return (\r\n      <li className={status === Completed ? style.completedTask : EMPTY_STRING}>\r\n        <IconButton\r\n          aria-label=\"delete\"\r\n          size=\"small\"\r\n          onClick={onDeleteTaskButton}\r\n        >\r\n          <Delete fontSize=\"small\" />\r\n        </IconButton>\r\n        <Checkbox\r\n          checked={status === Completed}\r\n          onChange={onChangeTaskStatusBox}\r\n          color=\"secondary\"\r\n          size=\"small\"\r\n        />\r\n        <EditableSpan\r\n          title={taskTitle}\r\n          updateTitle={handleUpdateTaskTitleSpan}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n);\r\n","import style from \"./Button.module.css\";\r\nimport { FC, memo } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\ntype ButtonPropsType = {\r\n  callback: () => void;\r\n  title: string;\r\n};\r\n\r\nexport const UniversalButton: FC<ButtonPropsType> = memo(\r\n  ({ callback, title }) => {\r\n    return (\r\n      <Button\r\n        variant=\"text\"\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        onClick={callback}\r\n        className={style.btn}\r\n      >\r\n        {title}\r\n      </Button>\r\n    );\r\n  }\r\n);\r\n","import { FC, useCallback, memo } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {\r\n  removeTodoTC,\r\n  updateTodoTitleTC,\r\n} from \"state/reducers/todolistReducer/thunk\";\r\nimport { changeTodolistFilterAC } from \"state/reducers/todolistReducer/todolist-reducer\";\r\nimport { addTaskTC } from \"state/reducers/taskReducer/thunk\";\r\nimport { EditableSpan } from \"../EditableSpan/EditableSpan\";\r\nimport { Task } from \"../Task/Task\";\r\nimport { AddItemForm } from \"../AddItemForm/AddItemForm\";\r\nimport { RequestStatusType, FilterValue, TaskStatuses } from \"enums\";\r\nimport { TaskResponseType } from \"api/types\";\r\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\r\nimport { Delete } from \"@material-ui/icons\";\r\nimport { UniversalButton } from \"../Button/Button\";\r\n\r\ntype TodolistPropsType = {\r\n  todolistTitle: string;\r\n  tasks: Array<TaskResponseType>;\r\n  filter: FilterValue;\r\n  todolistId: string;\r\n  entityStatus: RequestStatusType;\r\n};\r\n\r\nexport const Todolist: FC<TodolistPropsType> = memo(\r\n  ({ todolistTitle, tasks, filter, todolistId, entityStatus }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const { All, CompletedFilter, Active } = FilterValue;\r\n    const { Completed, New } = TaskStatuses;\r\n    const { Loading } = RequestStatusType;\r\n\r\n    const onChangeAllFilterButton = useCallback(() => {\r\n      dispatch(changeTodolistFilterAC({ id: todolistId, newFilter: All }));\r\n    }, [dispatch, todolistId, All]);\r\n\r\n    const onChangeCompletedFilterButton = useCallback(() => {\r\n      dispatch(\r\n        changeTodolistFilterAC({ id: todolistId, newFilter: CompletedFilter })\r\n      );\r\n    }, [dispatch, todolistId, CompletedFilter]);\r\n\r\n    const onChangeActiveFilterButton = useCallback(() => {\r\n      dispatch(changeTodolistFilterAC({ id: todolistId, newFilter: Active }));\r\n    }, [dispatch, todolistId, Active]);\r\n\r\n    const onDeleteTodoIcon = () => {\r\n      dispatch(removeTodoTC(todolistId));\r\n    };\r\n\r\n    const handleAddTaskForm = useCallback(\r\n      (taskTitle: string) => {\r\n        dispatch(addTaskTC(todolistId, taskTitle));\r\n      },\r\n      [dispatch, todolistId]\r\n    );\r\n\r\n    const handleUpdateTodoTitleSpan = useCallback(\r\n      (newTitle: string) => {\r\n        dispatch(updateTodoTitleTC(todolistId, newTitle));\r\n      },\r\n      [todolistId, dispatch]\r\n    );\r\n\r\n    const buttonsArr = [\r\n      { callback: onChangeAllFilterButton, name: All },\r\n      { callback: onChangeCompletedFilterButton, name: CompletedFilter },\r\n      { callback: onChangeActiveFilterButton, name: Active },\r\n    ];\r\n\r\n    let filteredTasks = tasks;\r\n\r\n    if (filter === CompletedFilter) {\r\n      filteredTasks = tasks.filter(({ status }) => status === Completed);\r\n    }\r\n    if (filter === Active) {\r\n      filteredTasks = tasks.filter(({ status }) => status === New);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h3>\r\n          <EditableSpan\r\n            title={todolistTitle}\r\n            updateTitle={handleUpdateTodoTitleSpan}\r\n          />\r\n          <IconButton\r\n            aria-label=\"delete\"\r\n            size=\"small\"\r\n            onClick={onDeleteTodoIcon}\r\n            disabled={entityStatus === Loading}\r\n          >\r\n            <Delete fontSize=\"small\" />\r\n          </IconButton>\r\n        </h3>\r\n        <AddItemForm addItem={handleAddTaskForm} />\r\n        <ul>\r\n          {filteredTasks?.map(({ id, status, title }) => {\r\n            return (\r\n              <Task\r\n                key={id}\r\n                taskId={id}\r\n                todolistId={todolistId}\r\n                status={status}\r\n                taskTitle={title}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n        <div>\r\n          {buttonsArr.map(({ callback, name }) => (\r\n            <UniversalButton key={name} title={name} callback={callback} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n","import { useCallback, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootReducerType } from \"state/store\";\r\nimport { Path } from \"enums\";\r\nimport { addTodoTC, setTodosTC } from \"state/reducers/todolistReducer/thunk\";\r\nimport { tasksType } from \"state/reducers/taskReducer/types\";\r\nimport { todolistsDomainType } from \"state/reducers/todolistReducer/types\";\r\nimport { Grid, Paper } from \"@material-ui/core\";\r\nimport { AddItemForm } from \"../AddItemForm/AddItemForm\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { Todolist } from \"../Todolist/Todolist\";\r\n\r\nexport const TodolistList = () => {\r\n  const isLoggedIn = useSelector<RootReducerType, boolean>(\r\n    (state) => state.auth.isLoggedIn\r\n  );\r\n  const todolists = useSelector<RootReducerType, Array<todolistsDomainType>>(\r\n    (state) => state.todolists\r\n  );\r\n  const tasks = useSelector<RootReducerType, tasksType>((state) => state.tasks);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { LOGIN_PATH } = Path;\r\n\r\n  useEffect(() => {\r\n    if (!isLoggedIn) {\r\n      return;\r\n    }\r\n    if (!todolists) {\r\n      dispatch(setTodosTC());\r\n    }\r\n  }, [dispatch, todolists, isLoggedIn]);\r\n\r\n  const addTodolist = useCallback(\r\n    (todolistTitle: string) => {\r\n      dispatch(addTodoTC(todolistTitle));\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  if (!isLoggedIn) {\r\n    return <Navigate to={LOGIN_PATH} />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Grid container style={{ padding: \"20px\" }}>\r\n        <AddItemForm addItem={addTodolist} />\r\n      </Grid>\r\n\r\n      <Grid container spacing={3}>\r\n        {todolists.map(({ id, entityStatus, title, filter }) => {\r\n          let tasksForTodolist = tasks[id];\r\n          return (\r\n            <Grid item key={id}>\r\n              <Paper style={{ padding: \"10px\" }}>\r\n                <Todolist\r\n                  key={id}\r\n                  todolistId={id}\r\n                  entityStatus={entityStatus}\r\n                  todolistTitle={title}\r\n                  tasks={tasksForTodolist}\r\n                  filter={filter}\r\n                />\r\n              </Paper>\r\n            </Grid>\r\n          );\r\n        })}\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n","import { useCallback, useEffect } from \"react\";\r\nimport { Path, RequestStatusType } from \"./enums/index\";\r\n\r\nimport {\r\n  AppBar,\r\n  Button,\r\n  CircularProgress,\r\n  Container,\r\n  LinearProgress,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport style from \"./App.module.css\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { RootReducerType } from \"./state/store\";\r\n\r\nimport ErrorSnackbar from \"./components/Snackbar/Snackbar\";\r\nimport { Login } from \"./components/Login/Login\";\r\nimport { Navigate, Route, Routes } from \"react-router-dom\";\r\nimport { authUserTC, logoutTC } from \"./state/reducers/auth-reducer\";\r\nimport { TodolistList } from \"./components/TodolistList/TodolistList\";\r\n\r\nfunction AppWithRedux() {\r\n  const dispatch = useDispatch();\r\n\r\n  const status = useSelector<RootReducerType, RequestStatusType>(\r\n    (state) => state.app.status\r\n  );\r\n  const isInitialize = useSelector<RootReducerType, boolean>(\r\n    (state) => state.app.isInitialize\r\n  );\r\n  const isLoggedIn = useSelector<RootReducerType, boolean>(\r\n    (state) => state.auth.isLoggedIn\r\n  );\r\n\r\n  const { Loading } = RequestStatusType;\r\n  const { START, LOGIN_PATH, NOT_FOUND, ANY } = Path;\r\n\r\n  useEffect(() => {\r\n    dispatch(authUserTC());\r\n  }, [dispatch]);\r\n\r\n  const logoutHandler = useCallback(\r\n    function () {\r\n      dispatch(logoutTC());\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <AppBar\r\n        position=\"static\"\r\n        style={{ background: \"SkyBlue\" }}\r\n        className={style.appbar}\r\n      >\r\n        <Toolbar variant=\"dense\" className={style.header}>\r\n          <Typography variant=\"h6\">Todolist</Typography>\r\n          {isLoggedIn && (\r\n            <Button\r\n              onClick={logoutHandler}\r\n              color={\"inherit\"}\r\n              style={{ float: \"right\" }}\r\n            >\r\n              log out\r\n            </Button>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n      {status === Loading && <LinearProgress />}\r\n      {!isInitialize ? (\r\n        <div\r\n          style={{\r\n            position: \"fixed\",\r\n            top: \"30%\",\r\n            textAlign: \"center\",\r\n            width: \"100%\",\r\n          }}\r\n        >\r\n          <CircularProgress />\r\n        </div>\r\n      ) : (\r\n        <Container fixed>\r\n          <Routes>\r\n            <Route path={START} element={<TodolistList />} />\r\n            <Route path={LOGIN_PATH} element={<Login />} />\r\n            <Route path={ANY} element={<Navigate to={NOT_FOUND} />} />\r\n            <Route path={NOT_FOUND} element={<h1>PAGE_NOT_FOUND_TEXT</h1>} />\r\n          </Routes>\r\n        </Container>\r\n      )}\r\n      <ErrorSnackbar />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppWithRedux;\r\n","import { combineReducers, applyMiddleware } from 'redux';\r\n\r\nimport { tasksReducer } from './reducers/taskReducer/tasks-reducer';\r\n\r\nimport thunk, { ThunkAction } from 'redux-thunk';\r\nimport { appReducer } from './reducers/app-reducer';\r\nimport { authReducer } from './reducers/auth-reducer';\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport { todolistsReducer } from './reducers/todolistReducer/todolist-reducer';\r\nimport { AppActionType } from './reducers/types';\r\n\r\nexport type ThunkType = ThunkAction<\r\n  void,\r\n  RootReducerType,\r\n  unknown,\r\n  AppActionType\r\n>;\r\n\r\nexport const rootReducer = combineReducers({\r\n  tasks: tasksReducer,\r\n  todolists: todolistsReducer,\r\n  app: appReducer,\r\n  auth: authReducer,\r\n});\r\nexport const store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware().prepend(thunk),\r\n});\r\n/*export let store = createStore(rootReducer, applyMiddleware(thunk));*/\r\nexport type ReducerType= typeof rootReducer\r\nexport type RootReducerType = ReturnType<ReducerType>;\r\n","import ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"./state/store\";\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}